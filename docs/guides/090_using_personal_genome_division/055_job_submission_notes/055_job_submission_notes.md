---
id: job_submission_notes
title: 個人ゲノム解析区画でのジョブ投入時の注意事項
---

個人ゲノム解析区画でParabricks(GPUを利用するジョブ)を利用する場合、計算ノード上のGPUを全て占有してジョブが動作していても、CPUコア、メモリに空きがあると、他のジョブが
同じ計算ノードに並行して起動される可能性があります。計算ノードを1ジョブで占有して他ジョブが同じ計算ノード上で実行されないようにしたい場合は

- `--gres=gpu:4` オプションを指定してGPUを割り当てる 

上記を実施した上で、以下のいずれかを指定してください。

- `--mem` 384000で、メモリを計算ノードの設定上限いっぱい(384GB)まで取得する
- `--exclusive`オプションを指定して、ノードを排他利用するように指定する

```js
#!/bin/bash
#SBATCH -t 0-10:00:00
#SBATCH --gres=gpu:4
#SBATCH --mem=384000
#SBATCH -J an_example

your program
```
`--mem` は１ノードあたりの割り当てメモリ量を設定するオプションです。1台で割り当てられるメモリは384GBを上限として設定しているので、これ以上はジョブが流れ込まなくなります。
```js
#!/bin/bash
#SBATCH -t 0-10:00:00
#SBATCH --gres=gpu:4
#SBATCH --exclusive
#SBATCH -J an_example

your program
```
`--exclusive`オプションを指定すると、CPUは計算ノード1ノードあたりの設定の最大CPUコア数の48コア、メモリは4096MB(1CPUコアあたりのデフォルトメモリ量)×48=192GBが割り当てられます。
これによりその計算ノードにジョブが流れ込まなくなります。

